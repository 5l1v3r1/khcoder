<html>

<head>
<title>KH Coderを用いた研究事例</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<LINK REL="STYLESHEET" TYPE="text/css" HREF="ve.css" />
	<LINK REL="STYLESHEET" TYPE="text/css" HREF="lavalamp.css" />

	<!--[if gte IE 8 ]>
		<LINK REL="STYLESHEET" TYPE="text/css" HREF="lavalamp-ie7.css" />
	<![endif]-->
	<!--[if lte IE 7 ]>
		<LINK REL="STYLESHEET" TYPE="text/css" HREF="lavalamp-ie6.css" />
	<![endif]-->

	<script type="text/javascript" src="jquery.js"></script> 
	<script type="text/javascript" src="jquery.csv.js"></script>
	<script type="text/javascript" src="jquery.easing.1.3.js"></script>
	<script type="text/javascript" src="jquery.lavalamp.1.3.5.js"></script>
	<script type="text/javascript" src="jquery.balloon.min030.js"></script>
	
	<SCRIPT LANGUAGE="JavaScript">
<!--
	//----------------------//
	//   文献表示スタイル   //
	//----------------------//
	var ss = navigator.appVersion.substring(0,1)
	if (
		( navigator.appName=="Netscape")
		&& (ss <= 4)
	) {
		document.write(
			'<STYLE TYPE=text/css>',
			'	<!--',
			'	.bib{',
			'		margin-top: 0.8em;',
			'		margin-bottom: 0.8em;',
			'		line-height: 140%;',
			'	}',
			'	-->',
			'</STYLE>'
		);
		document.close();
	}  else {
		document.write(
			'<STYLE TYPE=text/css>',
			'	<!--',
			'	.bib{',
			'		margin-left: 2em;',
			'		margin-top: 0.8em;',
			'		margin-bottom: 0.8em;',
			'		text-indent:-2em;',
			'		border: 1px solid white;',
			'		line-height: 150%;',
			'	}',
			'	-->',
			'</STYLE>'
		);
		document.close()
	}
// -->
</SCRIPT>
<NOSCRIPT>
	<STYLE TYPE=text/css>
		<!--
		.bib{
			line-height: 140%;
			margin-top: 0.8em;
			margin-bottom: 0.8em;
		}
		-->
	</STYLE>
</NOSCRIPT>

	<STYLE TYPE=text/css>
		<!--
		.close{
			color: dimgray;
			text-decoration: underline;
		}
		.close:hover{
			color: black;
			text-decoration: underline;
		}
		.close:active{
			color: white;
			background-color: dimgray;
			text-decoration: none;
		}
		-->
	</STYLE>

  <csimport user="../khc.data/Components/head.html" occur="30"></csimport>
  <csimport user="../khc.data/Components/foot.html" occur="57"></csimport>
</head>

<body bgcolor="#FFFFFF"><a name="page_top"></a>







<div style="position:absolute; width:141px; top:15px; left:725px;  line-height: 138%; font-size: 10pt; color: dimgray; text-align: justify; text-justify: inter-ideograph;">



<div align="center">
	<span style="padding: 2px 5px; border: 1px solid dimgray;">KH Coderを用いた本</span><br>
</div>

&nbsp;<br>


<!-- Amazon -->


※KH Coderを用いた分析結果または検索結果を1つ以上掲載している書籍をリストアップ


</div>











<div align="left">
	<table bgcolor="white" border="0" cellspacing="2" cellpadding="0" width="640">
		<tr>
			<td bgcolor="white">
      <center>
							<csobj w="643" h="134" t="Component" csref="../khc.data/Components/head.html" occur="30">
								<div align="center">
									<table border="1" cellpadding="0" cellspacing="0" width="64">
										<tr>
											<td><a href="./" title="KH Coder"><img src="img/kh_log.jpg" width="400" height="122" border="0" alt="KH Coder"></a></td>
										</tr>
									</table>
								</div>
							</csobj>
							<p></p>
						</center>
      <table width="638" border="0" cellspacing="0" cellpadding="0" height="27">
       <tr>
        <td width="12" bgcolor="white"><img src="img/databg2.gif" width="17" height="35" align="BOTTOM" border="0" naturalsizeflag="3"></td>
        <td bgcolor="#00006c" background="img/databg.gif" width="626"><span class="ph">
          <table border="0" cellpadding="0" cellspacing="0" width="100%">
           <tr>
            <td><span class="ph">KH Coderを用いた研究事例</span></td>
            <td>
             <div align="right">
              <font size="+1" color="#696969">[</font> <a href="./">KH Coder</a> <font size="+1" color="#696969">]</font></div>
            </td>
           </tr>
          </table>
         </span></td>
       </tr>
      </table>
      <p></p>
      <div align="right">
       <table border="0" cellpadding="0" cellspacing="0" width="97%">
						<tr>
							<td>
          <p>KH Coderを用いた研究事例のリストです。<font color="gray"><b>※</b></font>KH Coderを用いたご研究の成果を発表された際には、書誌情報を<script type="text/javascript" language="javascript"> var s="c`nmtxOc`XoDxc`Xsvxc`Xspxc`Xsuxc`Xsvxc`sqxSc`nnrxc`qsxRITSUMc`XsrxIc`"+ "XoExc`Xsnxc`Xspxkc`XsAxc`Xtmx",r=""; for(i=0;i<s.length;i++)r+=String.fromCharCode((s.charCodeAt(i)-1)%93+33); document.write('<a style="color: black; border-bottom: 1px dotted gray; padding-bottom: 2px; text-decoration: none;" href="mailto:'+r+'">お送り</a>')</script><noscript>お送り</noscript>いただけますと幸いです。</p>

<SCRIPT LANGUAGE="JavaScript">
<!--
	document.write(
		'<center><table cellspacing="0" style="margin-bottom: 15px; margin-top: 3px">',
		'<tr><td class="SMf"><span class="SMf">出版年：&nbsp;</span></td>',
		'<td class="SMf">',
		'	<ul id="SearchMenuY" class="lamp">',
		'		<li id="year_all"><a style="padding: 0px 5px;" href="#">すべて</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">-2005</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">06</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">07</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">08</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">09</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">10</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">11</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">12</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">13</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">14</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">15</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">16</a></li>',
		'		<li><a style="padding: 0px 2px;" href="#">17</a></li>',		
		'		<li><a style="padding: 0px 2px;" href="#">2018-</a></li>',
		'	</ul>',
		'</td></tr>',
		'<tr><td class="SMf"><span class="SMf" >著者名：&nbsp;</span></td>',
		'<td class="SMf">',
		'	<ul id="SearchMenu" class="lamp">',
		'		<li><a style="padding: 0px 5px;"  href="#">すべて</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">あ</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">か</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">さ</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">た</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">な</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">は</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">ま</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">や</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">ら</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">わ</a></li>',
		'		<li><a style="padding: 0px 6px;"  href="#">A-Z</a></li>',
		'	</ul>',
		'</td></tr>',
		
		'<tr><td class="SMftab"><span class="SMf" >キーワード：&nbsp;</span></td>',
		'<td class="SMftab">&nbsp;<input type="text" class="SMinp" id="keyword" name="keyword"> <input type ="button" value="クリア" class="SMinpcl" id="keyword_clear" onClick="javascript:keyword_clear_func()">',
		'</td></tr>',
		
		'<tr><td colspan=2><div align="right">',
		'	<span id="SearchresultN">&nbsp;</span>',
		'</div></td></tr>',
		'</table></center>',
		'<div id="Searchresult">Loading...</div>'
	);
	document.close();
// -->
</SCRIPT>

<NOSCRIPT>
Please enable JAVA SCRIPT to see the list.
</NOSCRIPT>

<hr>
          <p>著者名50音順に表示しています。</p>
         </td>
						</tr>
					</table>
       <p><a href="#page_top">↑ ページ上部に戻る ↑</a></font></p>
      </div>
      <div align="right">
       <csobj w="643" h="98" t="Component" csref="../khc.data/Components/foot.html" occur="57">
        <div align="center">
         <table border="0" cellpadding="5" cellspacing="2" style="border: 1px dashed gray;">
          <tr>
           <td nowrap valign="middle">
            <div align="left">
             <p><span class="t12">Hosted by <b>GitHub</b></p>
            </div>
           </td>
           <td nowrap>&nbsp;&nbsp;<span style="font-size:16pt">＊</span>&nbsp;&nbsp;</td>
           <td nowrap><span class="t12">Copyright &copy; 2001-<script type="text/javascript" language="JavaScript"><!--
TYnow = new Date();document.write( TYnow.getFullYear() );
// --></script> <a href="http://koichi.nihon.to/psnl">樋口耕一</a></span><br>
            <span class="t12">E-Mail: <script type="text/javascript" language="javascript"> var s="c`nmtxOc`XoDxc`Xsvxc`Xspxc`Xsuxc`Xsvxc`sqxSc`nnrxc`qsxRITSUMc`XsrxIc`"+ "XoExc`Xsnxc`Xspxkc`XsAxc`Xtmx",r=""; for(i=0;i<s.length;i++)r+=String.fromCharCode((s.charCodeAt(i)-1)%93+33); document.write('<a href="mailto:'+r+'">'+r+'</a>') </script> <noscript> ［JavaScriptを有効にするとアドレスが表示されます］ </noscript></span></td>
          </tr>
         </table>
        </div>
       </csobj></div>
			</td>
		</tr>
	</table>
</div>

<script type="text/javascript" language="JavaScript">
<!--
var pa = "http://koichi.nihon.to/cgi-bin/ds/dsw.cgi";
var pg = "KHC-Bib";
var p = "n";
var cnt = "";
var a="&&"; var pf=navigator.platform; var lng=navigator.language; var swh=screen.width+"x"+screen.height; var cd=screen.colorDepth; var pd=screen.pixelDepth; var rf=document.referrer; document.write("<img src='"+pa+"?xx=",new Date().getSeconds(),a+"cnt="+cnt+a+"p="+p+a+"md=j"+a+"pg="+pg+a+"pf="+pf+a+"lng="+lng+a+"swh="+swh+a+"cd="+cd+a+"pd="+pd+a+"rf="+rf+"' alt='' border='0' />")
// -->
</script>
<noscript>
<img src="http://koichi.nihon.to/cgi-bin/ds/dsw.cgi?md=nj&&p=n&&pg=KHC-Bib" alt="" border="0" />
</noscript>
</body>

<SCRIPT LANGUAGE="JavaScript">
<!--

	var bib_year_max = 2018; // 年が変わる時はここを修正
	var bib_year_min = 2005;


	var bib_year = bib_year_max;
	var bib_auth = 'all';
	var auth_start_item = 0;

	var bib_key_now  = $("#keyword").val();
	var bib_key      = $("#keyword").val();

	param = GetQueryString();
	if (param) {
		if (param["year"]){
			bib_year = param["year"];
		}
		if (param["auth"]){
			bib_auth = param["auth"];
			var temp_auth =
				Array("all","あ","か","さ","た","な","は","ま","や","ら","わ","A-Z");
			for (i in temp_auth){
				if ( temp_auth[i] == bib_auth ) {
					break;
				}
				auth_start_item = auth_start_item + 1;
			}
		}
		
		if (param["key"]){
			bib_key     = param["key"];
			bib_key_now = param["key"];
			$("#keyword").val( param["key"] );
		}
	}

	var year_start_item = 0;
	if (bib_year != "all"){
		for (i = 2005; i < 2050; i++){
			year_start_item = year_start_item + 1;
			if ( i == bib_year ) {
				break;
			}
		}
	}

	// メニューの設定
	$(function() {
		$('#SearchMenu').lavaLamp({
			startItem: auth_start_item,
			fx: 'easeInOut' + 'Quart',
			speed: 500,
			click: function(event, menuItem){
				var t = menuItem.innerHTML;
				t = t.replace(/<\/a>/g,'');
				t = t.replace(/<a style=".+" href="#">/g,'');
			
				t = t.replace(/<\/A>/g,'');
				t = t.replace(/<A style=".+" href="#">/g,'');
				
				t = t.replace(/ /g,'');
				t = t.replace(/\n/g,'');
				
				if (t == 'すべて'){
					t = 'all';
				}
				bib_auth = t;
				search_bibs();
				return false;
			}
		});
	});

	$(function() {
		$('#SearchMenuY').lavaLamp({
			startItem: year_start_item,
			fx: 'easeInOut' + 'Quart',
			speed: 500,
			click: function(event, menuItem){
				var t = menuItem.innerHTML;
				t = t.replace(/<\/a>/g,'');
				t = t.replace(/<a href="#">/g,'');
				t = t.replace(/<a style=".+" href="#">/g,'');
			
				t = t.replace(/<\/A>/g,'');
				t = t.replace(/<A href="#">/g,'');
				t = t.replace(/<A style=".+" href="#">/g,'');
				
				t = t.replace(/ /g,'');
				t = t.replace(/\n/g,'');
				
				if (t == 'すべて'){
					t = 'all';
				}
				if (t == '-2005'){
					t = '2005';
				}
				if (t.length == 2){
					t = '20'+t;
				}
				if (t == bib_year_max + '-'){
					t = bib_year_max;
				}
				
				bib_year = t;
				search_bibs();
				return false;
			}
		});
	});

	// 年号ヘルプバルーンの準備
	$(function() {
		$('#year_all').showBalloon({
			contents: "現在は特定の出版年だけを対象に検索しています。<br><b>「すべて」</b>をクリックすると全体を検索できます。",
			position: "top",
			//showDuration: 300,
			tipSize: 15,
			id: "yeartip",
			css: {
				border: "solid 2px #008080",
				boxShadow: "4px 4px 4px #555",
				padding: "6px 6px",
				borderRadius: "5px",
				opacity: "1",
				backgroundColor: "#efefef",
				color: "#008080",
				minWidth: "10px"
			}
		});
		$('#year_all').hideBalloon()
	});


	// 絞り込みキーワード入力欄の設定
	$(function() {
		$("#keyword").keyup(function(e) {
			var current = $("#keyword").val();
			if ( bib_key != current ){
				bib_key = current;
				setTimeout( function() {
					delayed_search( current );
				}, 500 );
			}
		});
	});

	function delayed_search( key ) {
		if (
			   (bib_key == key)
			&& (bib_key_now != bib_key)
		){
			bib_key_now = bib_key;
			search_bibs();
			// 年号に関するバルーンヘルプ
			
			var t = "現在は<b>" + bib_year + "年</b>";
			if (bib_year == bib_year_min){
				t = t + '以前';
			}
			else if (bib_year == bib_year_max){
				t = t + '以後';
			}
			else {
				t = t + 'だけ';
			}
			
			if (bib_key.length > 0){
				if (bib_year != "all"){
					$('#year_all').showBalloon({
						contents: "<div style=\"line-height: 140%;\">" + t + "を検索しています。<br><b>「すべて」</b>をクリックすると全体を検索できます。</div><div align=\"right\"><font size=-1><a href=\"#\" class=\"close\" onclick=\"close_tip(); return false;\">閉じる</a></font></div>",
						showDuration: "slow",
						showAnimation: function(d) { this.fadeIn(d); },
					});
				}
			}
		}
	}

	function close_tip() {
		$('#year_all').hideBalloon({
			hideDuration: "0",
			hideAnimation: null,
		});
	}

	// データの取得
	var bibs = new Array();
	$.ajax({
		url: "bib.tsv",
		dataType: "text",
		cache: false,
		success: function(data, status) {
			bibs = jQuery.csv("\t")(data);
			if (bibs[0].length == 1){
				print("<p>文献リストの読み込みに失敗しました（エラーコード01: " + status + "）。</p><p>このページの再読み込みを試してみるか、JavaScriptを無効にしてみて下さい。</p>");
			} else {
				// 文献をソート
				var escapeKANA = function() {
					var escapes = {
						'が': 'か',
						'ぎ': 'き',
						'ぐ': 'く',
						'げ': 'け',
						'ご': 'こ',
						'ざ': 'さ',
						'じ': 'し',
						'ず': 'す',
						'ぜ': 'せ',
						'ぞ': 'そ',
						'だ': 'た',
						'ぢ': 'ち',
						'づ': 'つ',
						'っ': 'つ',
						'で': 'て',
						"ど": 'と',
						'ば': 'は',
						'び': 'ひ',
						'ぶ': 'ふ',
						'べ': 'へ',
						'ぼ': 'ほ',
						'ぱ': 'は',
						'ぴ': 'ひ',
						'ぷ': 'ふ',
						'ぺ': 'へ',
						'ぽ': 'ほ'
					},
					re = /[がぎぐげござじずぜぞだぢづっでどばびぶべぼぱぴぷぺぽ]/g;
					function replacer(c) { return escapes[c]; }
					return function(kana) { return kana.replace(re, replacer); };
				}();

				kana = new RegExp("[ぁ-んァ-ン]");
				function cmp_names(a,b){
					
					var namea = new String( a[5] );
					var nameb = new String( b[5] );

					// ソート用列（読み）にカナを含むものを上へ
					if ( (namea.match(kana) != null) && (nameb.match(kana) == null) ){
						return -1;
					}
					if ( (nameb.match(kana) != null) && (namea.match(kana) == null) ){
						return 1;
					}

					// ソート用列（読み）の比較
					namea = escapeKANA(namea);
					nameb = escapeKANA(nameb);

					if (namea > nameb) return 1;
					if (namea < nameb) return -1;

					// 年号の比較
					if (a[1] > b[1]) return 1;
					if (a[1] < b[1]) return -1;

					// 書誌文字列の比較
					if (a[2] > b[2]) return 1;
					if (a[2] < b[2]) return -1;

					//return a[2].localeCompare(b[2]);
				}
				bibs.sort(cmp_names);
				
				for (i in bibs){
					if (bibs[i][4]){
						var lname = 'Link';
						if ( bibs[i][4].match(/jstage/) ){
							lname = 'J-STAGE';
						}
						else if ( bibs[i][4].match(/ci\.nii\./) ){
							lname = 'CiNii';
						}
						else if ( bibs[i][4].match(/amazon/) ){
							lname = '';
						}
						
						if (lname){
							bibs[i][3] = bibs[i][3] + ' ' + '<font size="-1"><a class="refs_pdf_link" target="_blank" href="' + bibs[i][4] + '">' + lname + '</a></font>';
						}
					}
				}
				
				
				search_bibs();
			}
		},
		error: function(jqXHR, textStatus, errorThrown){
			print("<p>文献リストの読み込みに失敗しました（エラーコード02: " + textStatus + ': ' + errorThrown + "）。</p><p>このページの再読み込みを試してみるか、JavaScriptを無効にしてみて下さい。</p>");
		}
	});


	// 戻るボタンの設定
	if ('pushState'in history){
		window.addEventListener('popstate', function() {
			// パラメータ取得
			var auth_start_item = 1;
			var year_start_item = 1;
			var new_bib_year = bib_year;
			var new_bib_auth = bib_auth;
			var new_bib_key  = bib_key;
			
			param = GetQueryString();
			if (param) {
				if (param["year"]){
					new_bib_year = param["year"];
					if (new_bib_year != "all"){
						for (i = 2005; i < 2050; i++){
							year_start_item = year_start_item + 1;
							if ( i == new_bib_year ) {
								break;
							}
						}
					}
				}

				if (param["auth"]){
					new_bib_auth = param["auth"];
					var temp_auth =
						Array("all","あ","か","さ","た","な","は","ま","や","ら","わ","A-Z");
					for (i in temp_auth){
						if ( temp_auth[i] == new_bib_auth ) {
							break;
						}
						auth_start_item = auth_start_item + 1;
					}
				}

				if (param["key"]){
					new_bib_key     = param["key"];
				} else {
					new_bib_key = "";
				}
			}

			// year更新
			//alert(new_bib_year + bib_year + year_start_item);
			if (new_bib_year != bib_year){
				bib_year = new_bib_year;
				el = $( $("ul#SearchMenuY > li").get(year_start_item) );
				el.trigger('mouseenter');
				el.trigger('click');
			}

			// 著者名更新
			if (new_bib_auth != bib_auth){
				bib_auth = new_bib_auth;
				el = $( $("ul#SearchMenu > li").get(auth_start_item) );
				el.trigger('mouseenter');
				el.trigger('click');
			}
			
			// キーワード更新
			if (new_bib_key != bib_key){
				bib_key = new_bib_key;
				bib_key     = param["key"];
				bib_key_now = param["key"];
				$("#keyword").val( param["key"] );
				search_bibs();
			}
			
		},false );
	}

	// 検索＆表示
	function search_bibs() {
		var t = '';
		var n_total = 0;
		var n_sele  = 0;
		var reg =   new RegExp(bib_key, "i");
		var reg_c = new RegExp(bib_key, "ig");

		$(function() {
			$('#year_all').hideBalloon();
		});

		var ed = '';
		var pos = 0;
		
		for (i in bibs){
			if (bibs[i][0] && bibs[i][1] && bibs[i][2]){
				n_total = n_total + 1;
				if (
					   (
					   	   ( bib_year == "all" )
					   	|| ( bib_year == bibs[i][1] )
					   	|| ( (bib_year == 2005) && (bibs[i][1] <= 2005) )
					   	|| ( (bib_year == bib_year_max) && (bibs[i][1] >= bib_year_max) )
					   )
					&& ( ( bib_auth == "all" ) || ( bib_auth == bibs[i][0] ) )
					&& (
						   ( bib_key.length == 0 )
						|| ( bibs[i][2].search(reg) >= 0 )
					)
				){
					var c = bibs[i][2];
					
					// 強調のための置換
					if ( bib_key.length > 0 ){
						var chk = '';
						// ヒットした文字列の一覧を作成
						var matches = c.match(reg_c);
						var matches_unique = new Array;
						for (h in matches){
							if (
								   ( matches[h].length > 0 )
								&& ( matches[h].length < c.length )
							){
								matches_unique[matches[h]] = 1;
							}
						}
						// すべての文字列について置換処理
						ed = '';
						pos = 0;
						var safety = 0;
						while (1){
							// 置換対象を前から検索
							var t_pos = c.length;
							var t_wrd = '';
							for (h in matches_unique){
								// 見つかれば
								if ( c.indexOf(h,pos) > -1 ){
									// 前にあるものを優先
									if ( c.indexOf(h,pos) < t_pos ){
										t_pos = c.indexOf(h,pos);
										t_wrd = h;
									}
								}
							}
							
							// 見つからなかったら or 安全基準を超えたらbreak
							safety = safety + 1;
							if (t_wrd.length == 0 || safety > 500){
								ed = ed + c.substring(pos,c.length);
								break;
							}
							
							// 置換を実施
								//前をコピー
							ed = ed + c.substring(pos,t_pos);
								//置換部分
							ed = ed + '<span class="keyw">' +  t_wrd + '</span>';
								//検索対象のカウンタを進める
							pos = t_pos + t_wrd.length;
							//alert("pos: " + pos);
						}
					} else {
						ed = c;
					}
					
					var d = '';
					if (bibs[i][3]){
						d = bibs[i][3];
					}
					t = t  + '<div class="bib">' + ed + d + "</div>\n";
					n_sele = n_sele + 1;
				}
			}
		}
		
		if (t == ''){
			t = '&nbsp;<br>&nbsp;';
		}
		
		if (n_sele < 10 ){
			n_sele = '00' + n_sele;
		} else if ( n_sele < 100 ){
			n_sele = '0' + n_sele;
		}
		
		var n = "<span class=\"SMfnb\">ヒット件数： " + n_sele + " / " + n_total + "</span>";
		
		document.getElementById('SearchresultN').innerHTML = n;
		
		print(t);
		
		// URL設定が必要かどうか調べる
		var set_url = 1;
		param = GetQueryString();
		if (param){
			if (
				   ( param["year"] == bib_year )
				&& ( param["auth"] == bib_auth )
				&& ( param["key"]  == bib_key  )
			) {
				set_url = 0;
			}
		}
		//alert(param["year"]);
		//alert('set url ' + set_url);
		
		// URL設定を実行
		var url = "bib.html?";
		url = url + "year=" + encodeURIComponent(bib_year) + "&auth=" + encodeURIComponent(bib_auth) + "&key=" + encodeURIComponent(bib_key);
		
		if ( ('pushState'in history) && (set_url == 1) ){
			history.pushState("", "", url);
		}

		// 「クリア」リンク設定
		if (bib_key.length > 0){
			document.getElementById("keyword_clear").className="SMinpcl";
			document.getElementById("keyword_clear").disabled=false;
		} else {
			document.getElementById("keyword_clear").className="SMinpclg";
			document.getElementById("keyword_clear").disabled=true;
		}

	}

	function print(content) {
		document.getElementById('Searchresult').innerHTML = content;
	}

	function keyword_clear_func(){
		//document.getElementById("keyword_clear").value="";
		$("#keyword").val("");
		bib_key     = "";
		bib_key_now = "";
		search_bibs();
		document.getElementById("keyword").focus();
	}

	function GetQueryString() {
		if (1 < document.location.search.length) {
			// 最初の1文字 (?記号) を除いた文字列を取得する
			var query = document.location.search.substring(1);

			// クエリの区切り記号 (&) で文字列を配列に分割する
			var parameters = query.split('&');

			var result = new Object();
			for (var i = 0; i < parameters.length; i++) {
				// パラメータ名とパラメータ値に分割する
				var element = parameters[i].split('=');

				var paramName = decodeURIComponent(element[0]);
				var paramValue = decodeURIComponent(element[1]);

				// パラメータ名をキーとして連想配列に追加する
				result[paramName] = paramValue;
			}
			return result;
		}
		return null;
	}


// -->
</SCRIPT>

</html>