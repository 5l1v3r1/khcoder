[[メモ]]

[KH Coderに起因する制限]
・<h1>〜<h5>で括る見出しの長さは全角4000字が限度
・語の長さは全角126文字まで

[Windows版の茶筌2.03b9に起因する制限]
・文字化け部分があると、その行に関するChaSenの解析結果がおかしくなることがある
　見出し部分では、HTMLタグが消失する場合があり、致命的（→整合性エラー）
・あまりに長い段落があると、ChaSenの出力がおかしくなることがある
　（全角8000字程度が限度か）

[GUI / Documentationの無い機能]
	・Ctrl + Hで品詞別の頻度などを段落単位で集計・出力
		（強制抽出無し、HTMLタグ無視。大隅先生向け）

[Mac OS X対応について]
	・kh_project::last_codf, kh_sysconfig::linux::os_path, Tk::FBox_kh

[Anonymous CVSのコマンド]
	cvs -d:pserver:anonymous@cvs.sf.net:/cvsroot/khc checkout core
	cd core
	perl kh_coder.pl
	
	EXPORTの場合：
	cvs -d:pserver:anonymous@cvs.sf.net:/cvsroot/khc export -r HEAD core

[パフォーマンス]
	・データが小さいときは「Strat1」に（相対的に）時間がかかる
	・データサイズが大きくなるにつれて「Format」にかかる時間の割合が増えていく

[「その他」に割り振られた品詞チェック]
select hinshi.id, hinshi.name, count(*), genkei.name
from genkei, hinshi
where genkei.hinshi_id = hinshi.id
	AND khhinshi_id = 9999
group by hinshi.id

[TO DO]
	・マニュアル
		MeCab対応
		品詞設定
		外部変数の制限: 半角255文字まで
		関連語探索: 条件付き確率が下がる語は除外
	・共起ネットワーク
		・「ノードを小さな円で描画」オプションを追加
		・特定の語（群）を中心としたネットワーク
	・MeCab対応（chasenと切り替えできるように）
	・英語対応（ロジック／インターフェイス／チュートリアル／マニュアル）
	・連関規則の計算時に欠損値処理を行う (?)
	・品詞体系: 「連体詞」の処理 (?)
	・データファイルの先頭に改行があると前処理がエラーになるバグの修正??

[2.b.25]
	・従来のChaSenに加えてMeCab（IPADIC）にも対応した
		・「プロジェクト」→「設定」画面でChaSenとMeCabを切り替えられるようにした。ただしMeCabはWindows版パッケージに同梱していないので別途インストールする必要がある。またChaSen・MeCabを問わず、IPADIC以外の辞書を使う場合は、KH Coderの品詞設定を修正する必要がある。
		・MeCab使用時の注意(1)　MeCabは「。」を「記号-句点」と認識しない場合が稀にある。この場合、KH Coderは文の終わりを検出できず、結果として文の数を実際よりも少なく数えてしまう。この現象が起こっているかどうかを確認するには、メニューの「ツール」「抽出語」「抽出語検索」で、「抽出語検索」のチェックを外した上で「。」と入力して検索すれば良い。これで「。 記号-句点」1種類しか出てこなければ、この現象は発生していない。もし「%。 名詞-サ変接続」のようなものが検出されれば、この現象が発生している。そして「。 記号-句点」以外のものの頻度と同じ数だけ、文の数が少なく認識されている。
	・品詞設定の仕様を変更した
		・従来は設定ファイルを変更しても、それ以後に作成したプロジェクトか、プラグインによる「品詞設定の読み込み」を行ったプロジェクトにしか、設定変更が反映されなかった。したがって、プロジェクトごとに異なる品詞設定を保持させることができた。
		・この仕様を変更して、設定ファイルの内容がすべてのプロジェクトに適用されるように変更した。正確には、それぞれのプロジェクトで前処理を実行した時点で、そのプロジェクトに新しい設定が適用される。このため、プロジェクトごとに異なる品詞設定を保持させることはできなくなった。
	・細部の調整
		・共起ネットワークでカラー「なし」を選んだ場合の線の色を変更した。モノクロ印刷を想定して、これまでの薄めのグレーから、黒ないしは濃いグレーに変更。
	・バグの修正
		・「SQL文の実行」画面で、列の名前に含まれる全角文字が文字化けしていたバグを修正。「SELECT "テスト" as 列名」を実行した時に、従来は「列名」が文字化けしていたが、正常に表示されるになった。

[2.b.24]
	・「抽出語リスト」コマンドにオプションを追加
		・従来の「出現回数」だけでなく、いくつの文書にそれぞれの語が出現したのかをあらわす「文書数」の一覧表を作成できるようになった。
		・「頻出150語」や「1列」の表を、Excelアドイン（VBAマクロ）に依存せずに作成できるようになった。VBAマクロが動かないMac・Linux環境でも、これらの表が容易に作成できるようになった。
		・CSV形式だけでなくExcel形式（*.xla）でも表を出力できるようになった。一部の環境では、CSV形式の表を開く際には文字コードを確認・指定する必要があったり、文字化けすることがある。こうした場合はExcel形式のファイルを出力する方が便利であろう。また、罫線や「ウィンドウ枠の固定」を設定できる点でも、Excel形式のファイルはいくぶん利便性が高い。
	・文書のクラスター分析のコマンドを拡充・変更した
		・文書間の距離を計算するためのオプションとしてコサイン係数を追加
		・距離計算にコサイン係数やユークリッド距離を使用する場合、tf・idf値を利用するように変更した。
			以前のバージョンでは純然たる語の出現数（tf）を利用していた。idf値を使うことで、比較的少ない数の文書にしか出現しない語が、これまでよりも分析結果に大きく寄与するようにした。
		・距離計算にユークリッド距離を使用する場合は、文書ごとの標準化を行うように変更。
			文書のサイズ差による分類になりにくいように、標準化を行ってから距離計算を行うようにした。
		・クラスターの併合過程を表示・プロットする機能を追加
			クラスター数を決定する際の参考にしたり、特に似通っている文書のペアや、クラスターのペアを検索するために利用できるだろう
		・一部の文書を分析から除外するように変更
			クラスター分析に使用する語が1種類たりとも含まれていない文書については、類似度の計算が不正確になる場合があるので、分析から除外して「分類不可」とするように変更した。
		・使用メモリについて
			文書数が5000程度、分析に使う語が5000程度の場合、おおむね1G Bytesほどの空きメモリがあれば分析を実行できる。※Rをバックエンドとして利用していることもあって、このコマンドで大規模データの分析を行うことは難しい。データが大きい場合には、「文書 x 抽出語」表をいったんファイルに出力し、大規模データを扱える統計ソフトウェアで当該ファイルを分析すると良いだろう。
	・抽出語／コードのクラスター分析のコマンドを拡充
		・抽出語／コード間の距離を計算するためのオプションとしてコサイン係数を追加
		・クラスターの併合過程をプロットする機能を追加
			クラスター数を決定する際の参考にしたり、併合過程を詳細に検討したりするために利用できるだろう。
	・抽出語／コードの対応分析コマンドを拡充
		・「特徴的な語／コードに注目」するオプションを追加した
			対応分析では、これといった特徴のない語／コードが原点付近に密集しがちである。そうした語／コードを分析から除外するためのオプションを追加した。このオプションを有効にすると、いったん対応分析と布置を行って、原点から離れた位置の語／コードほど「特徴的」と見なす処理を行う。その上で、比較的「特徴的」な語だけを対象として再度対応分析を実行し、その結果を画面に表示する。
	・抽出語／コードの多次元尺度構成法（MDS）コマンドを拡充
		・距離計算のオプションとしてコサイン係数を利用できるようになった
	・細部の調整
		・文字化け自動修正の際に、制御文字をスペースに変更するようにした。（従前は半角アンダーバーに変換）
	・バグの修正
		・設定画面で「前処理効率化のためにデータをRAMに読み出す」というチェックを外さないと、前処理が失敗する場合があったバグを修正
		・一部のエラーメッセージが文字化けするバグを修正
		・KWICコンコーダンスの抽出語入力欄にExcelからコピー&ペーストを行った場合、検索に失敗する場合がある問題を修正。※Excelのセルごとコピーして貼り付けた場合、文字列の末尾に改行文字が付与される。この改行文字を削除して検索を行うように修正した。同様の問題は他の画面／他の入力欄でも生じるが、ひとまず影響が大きいと考えられる箇所、すなわちKWICコンコーダンスの抽出語入力欄のみ手当てを行った。
	・Windows版パッケージの修正
		・付属のRにamap・flashClustパッケージとTcl/Tkサポートファイルを追加
		・付属のMySQLの設定を変更し、Windowsのデフォルトの一時フォルダではなく、kh_coder.exeと同じドライブのフォルダ（dep\mysql\tmp）を、一時ファイルの保存に使うようにした。
		・現在のKH Coderは32bitアプリケーションなので、2GBまでしかメモリを使用できない。しかし、64bitシステム上では誤って2GB以上のメモリが使用できると判断してしまい、前処理が失敗する場合があった問題を修正。

[2.b.23]
	・共起ネットワークの機能に以下のオプションを追加
		「強い共起関係ほど太い線で描画」
		「出現数の多い語ほど大きい円で描画」＋「フォントも大きくする」
	・バグの修正
		・「文書x抽出語」表をSPSS形式で出力する際には、SPSS上でデータを転置する（行と列を入れ替える）ためのシンタックスが同時に出力される。このシンタックスが最近のバージョンのSPSSでは正常に動作しないバグを修正。
		・対応分析でフォントサイズを指定しても、グレースケールのプロットには指定が反映されないバグを修正。
	・細部の調整
		・抽出語／コードの階層的クラスター分析におけるデフォルトのクラスター数を、抽出語数／コード数の平方根を四捨五入した値に変更
		・プロジェクト用のDB作成時に「default character set ujis」オプションを付け加えた。これによって、MySQL Serverを自前でインストールして使用する場合、これまではMySQL Server側でdefault character setをujisに設定しなければならなかったが、この設定が不要になった。ただし、設定が不要になったのはMySQL 5以降を使用する場合のみ。
		・プロジェクトの設定情報をMySQL内にも保存することで、万一、プロジェクト情報が消失した場合も（プロジェクトの一覧から利用していたプロジェクトが不意に消失した場合も）、復旧が比較的容易に行えるようにした。
		・Time::Ctimeモジュールを使用しないように変更した
		・対応分析の実行を若干効率化した

[2.b.22]
	・ベイズ学習による文書分類の機能を追加
		　人間がいくつかの文書を分類して「見本」を示せば、そこから分類の基準を学習し、学習結果にもとづいて他の文書を分類する機能。学習にはナイーブベイズモデルを使用。
		　この機能を使えば、コーディングルール作成とは違う形で、研究者の観点を分析に反映させることができる。漱石「こころ」のチュートリアルで扱っている「人の死」のような事柄／概念であれば、コーディングルールの作成も容易であろう。しかし、より多種類で広範な表現を含みうる事柄／概念になると、「これらの表現が文書中にあれば、事柄Aが出現していたと見なす」といったコーディングルールの作成が難しい場合もあるだろう。そうした場合でも、十分な数の分類「見本」を示すことができれば、この機能によって自動分類を試みることができる。
		　コーディングルールとはそもそも分類基準のことであるから、この機能は、「見本」をもとに「ある種のコーディングルール」（分類基準）を自動生成する機能と考えることもできる。この観点から見れば、コーディングルール同様、学習した分類基準の内容を確認できることや、その内容を第三者に明示できることが重要になる。そこで、学習した分類基準の内容が人間にとっても理解しやすいナイーブベイズモデルを採用するとともに、学習内容を閲覧・確認する機能も準備した。
	・外部変数をCSV形式で出力する機能を追加
		クラスター分析による文書分類の結果や、ベイズ学習による文書分類の結果を、KH Coderは外部変数として保存する。そこで、それらの結果を出力して他のソフトでも使えるように、この出力機能を準備した。
	・バグ修正
		・クリップボードから貼り付けたテキストが文字化けする場合があるバグを修正
		・茶筌の設定ファイルを無駄に頻繁に（しかも変更せずに）上書きする挙動を修正

[2.b.21]
	・プロジェクトの「インポート」「エクスポート」機能を追加した
		これまでは、他のPCで同じデータの分析を行いたい場合、プロジェクトの新規作成・前処理・外部変数の読み込み・各種の指定といった一連の操作を再度行う必要があり、これらの操作がいくぶん煩雑であった。そこで、既存のプロジェクトまるごとエクスポートし、他のPCで動いているKH Coderへ取り込めるように、これらの機能を準備した。
	・既存のプロジェクトの品詞設定を変更できるようになった
		これまでは、KH Coderの品詞設定を変更しても、既存のプロジェクトの品詞設定を変更することができなかった。そのため、いったんプロジェクトを削除して再度登録する必要があった。そこで、「ツール」「プラグイン」「品詞設定をプロジェクトに読み込む」コマンドを準備し、これを実行することで、既存のプロジェクトの品詞設定を変更できるようにした。なお、このコマンドを実行しない限りは既存のプロジェクトの品詞設定は変更されないので、KH Coderではプロジェクトごとに異なる品詞設定を使うことができる。
	・バグ修正
		・Rを用いた多変量解析でエラーが発生しても、エラーメッセージが表示されずに、直前に行った分析の結果がそのまま表示されてしまう場合があるバグを修正。
		・Excel用アドインの「頻出150語の表を作成」コマンドが上手く動かない場合があるバグを修正。アドインのバージョン番号を1.03とした。
		・まれに「段落」数を実際よりも多くKH Coderが認識する場合があるバグを修正
		・Mac OS X上では濁点・半濁点を含むファイル名・フォルダ名を扱えなかった問題を修正
		・MySQL 5.x使用時に「前処理効率化のためにデータをRAMに読み出」した場合、必要以上に（MySQL 3.xの3倍程度）メモリを消費していた問題を修正。ただし、MySQLの仕様変更により、無駄な消費を抑えてもの1.5倍程度のメモリを消費してしまう模様。

[2.b.20]
	・Rを用いた多変量解析の実行時にエラー・メッセージが表示され、結果が表示されない場合があるバグを修正。
	・「語の取捨選択」画面の入力欄で、スクロールバーの表示／非表示の切り替えが上手くいかず(?)、KH Coderがフリーズする場合があるバグを修正。
	・「共起ネットワーク」における「サブグラフ検出」のパラメーターに微調整を加えた。

[2.b.19]
	・「実行時にこの画面を閉じない」というチェックボックスを、多変量解析のオプション画面に追加。条件を変えながら分析を繰り返すような場合には、これにチェックを入れておくと良いだろう。このチェックボックスを追加したのは抽出語・コードの対応分析、多次元尺度法、階層的クラスター分析、共起ネットワークのオプション画面。
	・「分析対象ファイルのチェック」コマンドで、1行（1段落）が全角4000字を越えている場合には警告を表示し、自動修正もできるように修正した。これまでは全角8000字を越えていないかどうかをチェックしていたが、4000字以内に抑える必要があることが判明したため。
	・コマンド名の変更
		「共起ネットワークグラフ」→「共起ネットワーク」
	・バグの修正
		・Windows XPをシャットダウンする際にKH Coderが起動していると、「このプログラムを終了できません」というダイアログが表示されて、シャットダウンが中断してしまうバグを修正。このバグは2.beta.13以降のバージョンに混入していた。
		・Windows Vistaで「SQL文の実行」画面の描画が上手くいっていなかった問題を修正。「離着陸」ギミックを廃止した。
		・Mac OS X上で一部の日本語ファイル名を扱えるように修正。ただし、依然として濁点・半濁点を含むファイル名・フォルダ名は扱えない。またMac OS Xを含めてUnix系システム上では、ロケールをja_JP.eucJPに設定したシェルからKH Coderを起動するのがおそらく無難。ロケール設定は、Rとのコマンドのやりとりや、全角文字を含むファイル名の扱いに影響する場合がある。
		・エラーメッセージが一部文字化けしていた問題を修正
		・マニュアルのtypo修正

[2.b.18での改良点]
	・抽出語またはコードの「共起ネットワークグラフ」を描画する機能を追加
	・外部変数のそれぞれの値ごとに、特徴的な語を「関連語探索」機能によって調べ、その結果を表にまとめる機能を追加。自動的に以下のような表（ExcelもしくはCSVファイル）を作成
	・抽出語を用いた多変量解析コマンドや、「文書x抽出語」の出力コマンドで、抽出語の選択内容が保存されるようになった。
		ただし、各コマンドごとに別々の内容が保存されるのではなく、共通の設定として保存される。例えば、クラスター分析の際に設定した「最小出現数」や品詞の選択内容が、対応分析画面を開いた際にも自動的に読み込まれる。
	・バグの修正：
		・Rを用いて作成したプロット（対応分析・クラスター分析・多次元尺度法・他）を保存すると、KH Coder上での画面表示よりも、周囲の余白が多めになる問題を修正。
		・クラスター分析の結果（デンドログラム）をEMF・EPS形式で保存すると、常に正方形の画像ファイルが作成されるために、図の縦横比がおかしくなるという問題を修正。

	・「抽出語リスト」コマンドによるCSVファイル出力先を固定ファイルから、一時ファイルに変更した

[2.b.17での改良点]
	・2.b.15〜2.b.16に混入しいていたバグの修正：
		抽出語またはコードの「対応分析」コマンド実行時に、デバッグ用の内容を「C:\temp.txt」というファイルに書き出してしまうバグを修正。このバグのために、「C:\temp.txt」というファイルを作成する権限が無い場合、エラーが表示されて「対応分析」コマンドが実行できなかった。

[2.b.16での改良点]
	・2.b.15に混入しいていたバグの修正：
		データファイルのフルパスに全角文字が含まれていると、文書のクラスター分析でエラーが発生していた。

[2.b.15での改良点]
	・Rを用いて多変量解析を行う機能を追加した。抽出語またはコードを対象としての多次元尺度法・階層的クラスター分析・対応分析、また、文書の分類を行うクラスター分析を行えるようになった。
	・Rを用いて作成したプロットやグラフを保存できるできようになった。保存形式はEMF、EPS、PNG、およびR用コマンドの4種類。ただし、EMF形式についてはWindowsでのみ利用可能。
	・コマンド名の変更
		・「文書」→「抽出語 連関規則」から、「抽出語」→「関連語探索」に
		・「コード間関連」から、「類似度行列」に
		・「コンコーダンス（KWIC）」から、「KWICコンコーダンス」に
	・外部変数の詳細画面で値を選ぶと、そこから、当該の値が与えられた文書の一覧（文書検索）や、当該の値が与えられた文書の特徴をあらわすような語の一覧（関連語探索）を表示できるようになった
	・「関連語探索」コマンドのデフォルトのソート順を「確立差」から「Jaccard」に変更した
	・[Windows版] Windows版パッケージにRを同梱した。
	・[Windows版] 一時ファイルの展開場所をシステムのTEMPフォルダから、.\configに変更。システムのTEMPフォルダを使うと、一部のウイルス対策ソフトが誤警報を表示するため。
	・バグの修正
		Excel用アドインの「等高線図の作成」コマンドを修正し、バージョン番号を1.02とした。Rがインストールされていて、カイ2乗値が表に含まれる場合、うまくグラフを作成できない問題を改善した。
	・細部の調整（GUI関連）

[2.b.14での改良点]
	・2.beta.13に混入したバグを修正 
	・「前処理」→「分析対象ファイルのチェック」コマンドで、データ中に機種依存文字が含まれていても、それを見逃して「問題なし」としてしまうバグを修正
	・Windows 98/Meでは、全角文字を含むファイル名を扱えなくなっていた問題を修正

[2.b.13での改良点]
	・バグフィックスのためのメンテナンス・リリース
	・Windows版：
		・日本語のインライン入力が可能になった
		・ファイル名（フルパス）に特定の全角文字が含まれていると、そのファイルを開けない／保存できないバグを修正
		・表示されている文字列を選択する際や、入力部分で多数の文字を入力したためにスクロールが生じた際などに、部分的かつ一時的な文字化けが起きる問題を修正
		・検索結果が多数ある場合でも、スクロールバーが当初表示されない場合がある問題を修正
		・Perl 5.6からPerl 5.10へ移行した
	・Linux版
		・ファイルを開く／保存する際のダイアログボックスで、全角文字が文字化けしていた問題を修正。ただし現在の所、正常に表示・選択できるのはEUCコードの全角文字のみ。

[2.b.12での改良点]
	・TermExtractを利用して複合語を検出する機能を追加
	・「『文書ｘ抽出語』表の出力」コマンドで、H1〜H5単位での出力を行った場合には、各文書の見出し（H1〜H5タグで括られた部分）も出力するようにした。
	・SQL文を実行するためのインターフェイスが、SELECT文用とその他の文用の2つに別れていたのを統合した。同じ画面でSELECT文もその他の文も実行できるようになった。
	・「品詞別 出現回数順リスト」から「抽出語リスト（品詞別・出現回数順）」にメニュー・コマンド名を変更した
	・「コーディング」→「外部変数とのクロス集計」コマンドに欠損値処理の機能を加えた。
		外部変数の値または値ラベルが「欠損値」「MISSING」「.」のいずれかである場合は、その値を欠損値として扱うようにした。
	・バグの修正
		・500Mを超える大規模ファイルの前処理に必ず失敗するバグを修正
		・特定の条件下で「前処理データの整合性が失われました」エラーが発生するバグを修正
		・Perl5.8では「分析対象ファイルのチェック」コマンドを実行しても文字コードの判定に失敗して機能しない場合があるバグを修正
		・MySQL4.0環境では「Unknown system variable 'NAMES'」というエラーが表示されるバグを修正
	・[Windows版パッケージ] ChaSenの辞書の編集に必要なファイル（IPADIC 2.4.4）を同梱するようにした。「.\dep\chasen\dic」フォルダの「*.dic」ファイルを編集して「Makefile.bat」を実行すれば、新たな語を登録することができる。ただし、KH Coderには古いバージョンの茶筌・IPADICを同梱しているので、新しいバージョンを使いたい場合には、「.\dep\chasen」フォルダの中身をすべて削除してから、新しいバージョンの茶筌・IPADICを上書きコピーするとよい。

[2.b.11での改良点]
	・分析対象ファイルに問題がないかどうかチェックするコマンドを追加：「前処理」→「分析対象ファイルのチェック」
		文字化けしている部分や、長すぎる行などを発見して、自動的に削除・折り返しできるようになった。特にインターネットからデータを収集した場合、文字化けしている部分や、長すぎる行がデータ中に含まれるために、茶筌が解析を完了できずに異常終了してしまうことがある。そういった場合には役立つだろう。
		またH1〜H5タグの誤った使用（と推測される部分）についても、警告を表示する。ただし、これについては自動修正ができない。
	・2.4.2以降の新しいバージョンの茶筌に対応した
		Windows版パッケージには旧来のバージョンの茶筌(2.1)を同梱しているが、\dep\chasenフォルダに新しいバージョンの茶筌をコピーすることで、新しい茶筌を使用することができる
	・データ中に半角「\」「"」「'」が含まれている場合、エラー回避のために、前処理時にこれらの記号を自動的に全角に変換するようにした
	・現在開いているプロジェクトについても（いちいちプロジェクトを閉じなくても）、説明・メモや文字コードを編集できるように修正
	・「前処理効率化のためにデータをRAMに読み出す」という設定がオンになっていても、明らかにRAMにおさまらないほど大きなデータを扱う際には、データのRAMへの読み出しを避けるように修正した。（これまでは問答無用でRAMへの読み出しを試み、RAMにおさまらずに失敗すると、エラー表示が出て前処理が止まっていた）
	・「前処理効率化のためにデータをRAMに読み出す」という設定項目のデフォルトをオフからオンに変更
	・バグの修正
		・各種データ出力の際に、kh_coder.exeと同じ場所に「temp.txt」という名称のファイルを保存しようとすると失敗するバグの修正
		・「『抽出語ｘ文脈ベクトル』表の出力」コマンド実行時に、エラー表示が出て処理が止まってしまう場合があるバグを修正
	・[Windows版パッケージ] PCに搭載されているメモリの量にあわせて、MySQLの設定（max_heap_table_size）を自動的に変更し、メモリをより有効に利用できるように変更

[2.b.10での改良点]
	・2.b.9に混入していたバグの修正
		「抽出語x文脈ベクトル」表の出力コマンドが機能しないというバグを修正。同時に、このコマンドでも文書数で語を選択できるように改善

[2.b.9での改良点]
	・「文書x抽出語」出力機能の拡充
		「それぞれの語が、データ全体で何回出現していたか（出現回数）」という基準に加えて、「いくつの文書で使われていたか（文書数）」という基準で、出力する語を選べるように変更。
	・文書数の分布や、文書数と出現回数の関連を見るための機能を追加
		追加コマンド：
		ツール→抽出語→記述統計→文書数の分布
		ツール→抽出語→記述統計→出現回数ｘ文書数のプロット
		なお、従来の度数分布表に加えて、プロットを表示する機能を追加。ただし、プロットを表示できるのは、統計計算とグラフィックスのための環境「R」がデフォルトのパスにインストールされている場合のみ。
	・コンコーダンス機能の拡充
		「抽出語」を入力せずに、「品詞」や「活用形」だけを指定できるように変更。当初の検索時も、「追加条件」の設定時も、このような指定が可能になった。（ただし、いきなり「名詞」などと入力して検索を行うと、何万件もヒットして処理に時間がかかる場合がある。特にデータ量が多い場合には要注意）
	・コーディング処理を（若干）効率化
	・GUIの改善
		・コーディング結果の表示方法を変更し、スクロール時も、見出しの行や列が表示され続けるように変更。また「コード間関連」の画面では、それぞれの列の値によるソート（降順）を行えるようにした。
		・「ツール」「SQL文入力」「SELECT」画面の入力欄に、（SQL文を記述した）テキストファイルをドラッグ&ドロップできるように変更。
		・各「外部変数」の詳細画面を開いている間は、その画面しか操作できない（他のWindowが反応しない）という仕様を変更し、他の画面も操作できるようにした。
	・バグの修正
		・前処理の完了をメールで通知する機能のバグを修正。SMTP Serverの指定が不完全な場合、エラーメッセージが表示されるとともに前処理まで止まってしまっていたので、最後まで前処理が行われるように修正した。
		・Excel用アドインを修正。データが大きい場合にオーバーフローを起こす問題を修正した（IntegerをLongに変更）。また、アドインのバージョン・ナンバーを表示するコマンドを追加（現行版を1.00とした）。
		・テキストファイル（分析対象ファイル）の先頭に空行があった場合、前処理でエラーが出るバグを修正。
		・外部変数の値の中に半角「\」や「'」が含まれているとエラーが出るバグを修正。
	・細部の調整
	・上記の機能追加に伴うマニュアルの改訂

[2.b.8での改良点]
	・プラグインに対応
	・バグの修正
		・SPSSシンタックスが文字化けする場合があるバグ
		・「コーディング→単純集計」で、ヒットが0だった場合にエラーが出るバグ
		・コンコーダンスの表示順に関するバグ
	・などなど

[2.b.6での改良点]
	・ショートカット・キーの変更
		・Windowを閉じるショートカット・キーをESCからCtrl + Qに変更
		・メインのWindowをアクティブにするショートカット・キーをAltからAlt + Mに変更
	・前処理を（若干）効率化
	・バグの修正
		・文字コードの自動判別に失敗する場合があるバグを修正（分析対象ファイルの文字コードを指定できるようにした）
		・文書表示に時間がかかる場合があるバグを修正
		・Rがインストールされていない場合に、「input1.r」「input2.r」といったファイルが多数作成されていく問題を修正
	・細部の調整

[2.b.5での改良点]
	・コロケーション統計のバグを修正
		活用のある語で、複数の活用形がデータ中に出現している語については、集計結果が実際よりも少なく表示される問題を修正。
	・Excel用アドインの修正
		Excel 2000ではアドインのコマンドを実行できない問題を修正。

[2.b.4での改良点]
	・コーディングルールの拡張
		「語Aと語Bが近くに出現していること」といった条件でのコーディング・検索ができるようになった。
		「語Aの後に語Bが出現していること」といった条件でのコーディング・検索ができるようになった
	・「文書検索」および「抽出語 連関規則」画面の「リロード」ボタンを削除
		必要に応じて自動的にコーディングルール・ファイルをリロードするように変更した。
	・コーディングルール・ファイルをドラッグ＆ドロップできるようになった
		「参照」しなくても、下図赤丸部分へのドラッグ＆ドロップでコーディングルール・ファイルを選択できるようになった
	・「文書表示」画面の修正
		例えば「段落」単位で文書を表示している場合には、H1〜H5単位に読み込まれた外部変数値の表示が不正確になっていた。この組み合わせに限らず、文書表示の単位と異なる単位に読み込まれた外部変数値の表示がおかしくなっていたのを修正。
		文字列による検索を行った場合も、その文字列を黄色で強調するように修正。これまでは検索に用いられた抽出語だけが黄色で強調され、文字列は強調されていなかった。
	・その他の細かな調整

[2.b.3での改良点]
	・文書検索のソート順に「tf*idf順」「tf/idf順」を追加
	・コンコーダンス（KWIC）検索の結果をCVSファイルに保存する機能を追加
	・SQL文を入力・実行する時に、複数のSQL文を一度に実行できるできるようになった（これまではSQL文を一つずつしか入力・実行できなかった）
		複数のSQL文を入力・実行する場合は、各SQL文の最後に「;」をつけ、直後に2度改行してから（直後に空の行を入れてから）、次のSQL文を記述する。
		コマンド：「ツール」→「SQL文入力」→「SELECT」＆「その他」
	・分析対象ファイルの扱いを改善
		データ中に半角スペースが含まれていた場合、全角スペースに変換してから処理するように修正
	・「部分テキストの取り出し」コマンドのバグを修正
		「特定のコードが与えられた文書だけを取り出す」際に、当該コードが与えられた文書群のうち、一部しか取り出されない場合がある問題を修正
	・検索結果をクリップボードにコピーする際に、エラーが出る場合がある問題を修正
	・Rの扱い方を改善
		Rが出力した結果を取得できない場合があった問題を改善
	・MySQLを2重・3重に起動してしまう場合がある問題を修正 [Windows版パッケージのみ]
		KH Coderを強制終了し、もう一度起動した場合等。この問題には2.b.2で対処したつもりだったが、失敗していたようなので…
	・Perl 5.8に対応 [ソースコードのみ]
		ただしWindows版バイナリについては、未だ従来のPerl 5.6を使用

[2.b.2での改良点]
	・文書表示Window（コンコーダンス・文書検索）に表示される情報を追加
		現在表示している文書の位置情報・外部変数情報を表示するようにした
	・コンコーダンス（KWIC）機能の改善
		・改行があってもそのままつなげて表示していたのを改め、改行を「（↓）」という記号で表示するようにした（ただし段落間の区切りのみ）
		・コロケーション統計の追加
		・「左右（前後）に特定の語が出現していること」という条件を追加し、結果を絞り込めるようになった。
		・コンコーダンス作成時に前後30語までしか取り出せないという制限を排除
			ただし、広い範囲を確認したい場合には、各ラインをダブルクリックして文書表示Windowを開くことを推奨。コンコーダンス作成時に前後100語を取り出すといったことも可能にはなったが、実際の確認はおそらく難しいので…。
	・設定Windowでフォントの種類とサイズを変更できるようになった
	・カイ2乗検定を追加（要R）
		「コーディング」→「章・節・段落ごとの集計」
		「コーディング」→「外部変数とのクロス集計」
		統計計算とグラフィックスのための言語「R」がデフォルトのパス（C:\Program Files\R\rw2011等）にインストールされている場合、Rを用いてピアソンのカイ2乗検定を行うようにした
	・分析対象ファイルやコーディングルール・ファイルの制限を若干緩和した。
		データ中に半角カナが含まれていた場合、全角に変換してから処理することで、エラーを回避するよう修正。また、文字コード・改行コードの制限をなくしたので、Windows <-> Linux間で同じファイルを（変換無しに）分析に使えるようになった。ただし、内部ではEUCコードに変換して処理しているので、EUCに変換できないUnicode文字の使用は不可。
	・コーディング処理を少し効率化（高速化）した
	・各Windowを開く処理を少し効率化した（「もっさり」感をやや軽減）
	・MySQLを2重・3重に起動してしまう場合がある問題を修正（KH Coderを強制終了し、もう一度起動した場合等）[Windows版パッケージのみ]
	・Windows Vista beta 1に対応（たぶん）[Windows版パッケージのみ]

[2.b.1での改良点]
	・「コーディング」→「外部変数とのクロス集計」機能を改善
		これまでは、コーディング単位と同じ単位に読み込まれた外部変数だけしか、クロス集計に用いることができなかった。この点を改善して、コーディング単位よりも上位に読み込まれた外部変数を利用できるようにした。
	・All In Oneパッケージ作成のための修正
		・config\coder.iniファイルのsql_username, sql_password, sql_host, sql_portを書き換えれば、リモートマシン上のMySQLサーバーを利用することができるようになった
		・エラーを出して異常終了する際にも、終了処理ルーチンが動くように修正
		・その他細々とした修正
	・コーディングルール内で、「<＊コード名>」という指定によって、存在しないコードを再利用しようとした場合の挙動を修正。これまではPerlエラーが出ていたので、適切なエラーメッセージが出るように修正した。W
	・プロジェクト削除時に、MySQL内の関連データを抹消するように変更
	これまではMySQLサーバーに関連データが残っていた
	・キーバインド追加
	・プログラミング上の変更
		・NKF.pmを「必須」から「オプション」扱いに変更
		・Perl 5.8（Tk 804.xx）への対応作業を開始（…まだ未完了）

[2.a.6での改良点]
	・「HTMLからCSVに変換」コマンドのバグを修正
	・データ中に半角の数字があると前処理に失敗する場合があるバグを修正
	・前処理時に全角127文字を越える語が見つかった場合の挙動を変更
		これまではMySQLエラーが出るようになっていたので、それなりのエラー・メッセージが出るように修正
	・コーディング機能の改善
		・外部変数の扱いを改善
			これまでは検索やコーディングを行う単位と、同じ単位に読み込んだ外部変数しか用いることができなった点を改善した。例えばH2単位に読み込んだ外部変数を、H3単位、H4単位、H5単位、段落単位、文単位での検索やコーディングに用いることができるようになった。ただし、より上位の単位（この例ではH1単位）の検索・コーディングには使用できない。
		・30以上のコードを1つのコーディングルール・ファイル内に記述できるようになった
			・単純集計
			・章・節・段落ごとの集計
			・コーディング結果の出力
			・文書検索「＃コード無し」
			・抽出語連関規則「＃コード無し」

[2.a.5での改良点]
	・外部変数の読み込み機能を改善
		・タブ区切りファイルの読み込みに対応
		・値の中に「,」等を含むCSVファイルの読み込みに対応
	・文書表示Windowのバグを修正
		・文書表示の際に、語順がみだれ、解読不能になってしまう場合があるバグを修正
	・英語・仏語データの分析に（無理矢理）対応（?）
		・半角クォートがデータ中に含まれると前処理が失敗する場合がある問題を修正
		・半角クォートが含まれる語のコンコーダンス作成に失敗する問題を修正
		・半角クォートが含まれる語を用いた文書検索・コーディングに失敗する問題を修正
		・「強制抽出する語」または「使用しない語」として半角クォートが含まれる語を指定するとエラーが出る問題を修正
		・抽出語検索Windowで半角クォートを検索欄に入力するとエラーが出る問題を修正

[2.a.3での改良点]
	・データ出力の形式として、今までのCSVとSPSSに加えて、タブ区切りにも対応
	・品詞体系の変更
		茶筌が「形容詞-非自立」に分類した語を、KH Coderでも「形容詞（非自立）」という独立した品詞に分類することにした。これまではKH Coder上では「形容詞」または「形容詞B」に分類していた。
	・「『抽出語x文脈ベクトル』表の出力」コマンドの挙動を変更
		これまでは小数点以下8桁にまるめて出力していたが、そのまま出力するように変更した。（最大で小数点以下15桁まで出力されるようになった）
	・プロジェクトの削除に失敗する場合があるバグを修正
		分析対象として登録したファイルの名前（フルパス）に全角文字が含まれていると、そのプロジェクトを削除できなかった。
	・「Please Wait」Windowの位置を変更した
		完了ダイアログWindowが出ても、「Please Wait」Windowの下に隠れてしまう場合がある問題への対処
	・設定の初期化方法を変更
		KH Coderのアップデート対策

[2.a.2での改良点]
	・「文書x抽出語」表の出力が不正確になる場合があるバグの修正
		MySQLのバージョンに依存する問題???　今回のフィックスで3.23.58では正常動作することを確認。
	・「HTMLからCSVに変換」コマンドの出力結果が不正確になる場合があるバグの修正
		1行（1ケース）とする単位に、「文」を選択すると、出力結果が不正なものとなっていた
	・前処理でエラーが出る場合があるバグの修正
		分析対象ファイルに「読み取り専用」属性がついていた場合、2度目以降の前処理がエラーとなっていた
	・Excel用アドインの修正
		「頻出150語の表を作成」時に、否定助動詞も無視するように変更
	・マニュアルの改訂
		p.9〜p.11に「否定助動詞」についての記述を追加した

[1.x → 2.a.1での改良点]

	[全般]
		・WindowsだけでなくLinuxにも対応した
		・各Windowの位置とサイズを記憶するようになった
		・前処理時や各種ツール使用時に、いちいち「集計単位」を指定しなくても良くなった
		・プロジェクトごとに、最後に利用した検索やコーディングの単位と、コーディングルールファイルを記憶するようになった
		・外部アプリケーション（SPSSやIE/Netscape）への依存が減少した
		・再起動しなくても、複数のプロジェクトを切り替えられるようになった
		・全てのWindowに共通のキー・バインドを追加
			→ ESCキーでWindowを閉じる
			→ 左AltキーでMain Windowをアクティブに
		・ソースコードのトレースが容易になった
			→オブジェクト指向プログラミングをより広範に取り入れた
			→インターフェイス部分とロジック部分を極力分離した

	[前処理関係]
		・前処理に必要な処理時間が大幅に減少した
		・元の文からどのように語を抽出したかの確認（検索）が容易に
		・無視したい語（stop word）、無視したい品詞の指定がより容易になった
		・品詞体系そのものをより容易に変更できるようになった
		・前処理完了をメールで通知できるようになった（リモート操作向け）

	[コーディング関係]
		・「先頭から数えて何番目の文書か」を利用してコーディング可能に
			「統計ソフトで行ったクラスター分析の結果、？番目の文書が特徴的だとわかった」といった場合に、容易に検索（コーディング）できる
		・（抽出語の）特定の活用形が含まれる文書をコーディング可能に
			例えば、「『死ぬ』という語の未然形が含まれる文書をコーディングする」など。
		・抽出語ではなく、特定の"文字列"が含まれている文書をコーディング可能に
			設計思想からすると多用すべき機能ではないが、用いると便利なケースも希にある。
		・上位見出しだけでなく同位の見出しを使ったコーディングが可能に
		・集計機能 -- 外部変数とのクロス集計が可能に
		・フレーズ検索が可能に

	[ツール関係]
		・コンコーダンス機能を追加
			特定の一語が文書中でいかに使われているかを調べる際には、「文書検索」よりも便利
		・抽出語検索の機能向上
			-> 部分・完全・前方・後方一致検索が可能に
			-> 活用形を表示可能に
			-> コンコーダンス機能との接続
		・文書検索の機能向上
			-> 検索結果を200づつに区切って表示するように
				数千もの文書が一気に表示されると、時間がかかるだけでなく、閲覧も難しい
			-> コーディング・ルールを直接Windowに打ち込めるようになった
				いちいちコーディングルール・ファイルを作製・保存しなくても、容易に高度な検索が行うことができる。「ちょっと試してみたい」時には便利
			-> ルールファイル中のコードと直接入力をAND/ORで組み合わせられるように
				コーディングルール・ファイルから読み込んだルールに、条件を追加して検索するといったことが容易に。
			-> 文書表示時の語の強調（色づけ）が正確になった
		・抽出語-連関規則の機能向上
			-> 確立差・確立比に加えて、Jaccard、Ochiai、chi-squareが利用可能に
			   （ただしchi-squareは無修正）
		・「文脈ベクトル」を出力する機能を追加
		・SQL文入力による自由な検索が可能に
			SQL文を入力すれば、もともと用意されている検索だけでなく、分析者の思いつく限り、ありとあらゆる検索・計算を行うことができる
		・外部変数の使い勝手を向上
			・1.xでは数値型しか扱えなかったが、値に文字列を投入することも可能になった
			・1.xでは前処理を再度行った場合、外部変数も再度読み込む必要があったが、この必要が無くなった
			・外部変数として読み込まなくても、見出しをコーディングに利用できるようになった

[1.xからカットした機能]
	・JUMANへの対応
	・tf-idf値の出力
